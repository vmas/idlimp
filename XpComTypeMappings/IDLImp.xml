<?xml version="1.0" encoding="utf-8" ?>
<IDLConversions xmlns="http://dummy.sil.org/IDLConversions.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
  <ParamTypeConversion>
    <Attribute>~out</Attribute>
    <Match>nsIIDRef</Match>
    <Replace>ref Guid</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Attribute>retval</Attribute>
    <Match>nsQIResult</Match>
    <Replace>System.Object</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)(voidPtr)</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>    
    <Match>(^|\s+)(void)</Match>
    <Replace>System.Void</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>unsigned long long</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>long long</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>unsigned long</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>  
  <ParamTypeConversion>
    <Match>(^|\s+)PRUint8</Match>
    <Replace>System.UInt8</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)PRUint16</Match>
    <Replace>System.UInt16</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)PRUint64</Match>
    <Replace>System.UInt64</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)PRint64</Match>
    <Replace>System.Int64</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRTime</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRThread</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRNetAddrPtr</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRFileDescStar</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>OSType</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>octet(Ptr)*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>  
  <ParamTypeConversion>
    <Match>unsigned short</Match>
    <Replace>System.UInt16</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)(short)[*\s]*</Match>
    <Replace>System.Int16</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>    
    <Match>(^|\s+)(long)</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRInt32</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>PRUint32</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>unsigned int</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)(int)</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>unsigned</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)boolean</Match>
    <Replace>System.Boolean</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)PRBool</Match>
    <Replace>System.Boolean</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)(float)[*\s]*</Match>
    <Replace>System.Double</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)(double)[*\s]*</Match>
    <Replace>System.Double</Replace>
  </ParamTypeConversion>  
  <ParamTypeConversion>
    <NewAttribute>MarshalAs</NewAttribute>
    <NewAttrValue>UnmanagedType.LPWStr</NewAttrValue>
    <Match>(^|\s+)(PRUniChar)[\s]*[*]+[\s*]*</Match>
    <Replace>System.String</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs</NewAttribute>
    <NewAttrValue>UnmanagedType.CustomMarshaler, MarshalType = "Skybound.Gecko.XpCom.WStringMarshaler"</NewAttrValue>
    <Match>(^|\s+)(wstring)[*\s]*</Match>
    <Replace>System.String</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs,-retval,-out</NewAttribute>
    <NewAttrValue>UnmanagedType.LPStruct</NewAttrValue>
    <Match>DOMString</Match>
    <Replace>nsAString</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs,-retval,-out</NewAttribute>
    <NewAttrValue>UnmanagedType.LPStruct</NewAttrValue>
    <Match>AString</Match>
    <Replace>nsAString</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs,-retval,-out</NewAttribute>
    <NewAttrValue>UnmanagedType.LPStruct</NewAttrValue>
    <Match>ACString</Match>
    <Replace>nsAString</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs,-retval,-out</NewAttribute>
    <NewAttrValue>UnmanagedType.LPStruct</NewAttrValue>
    <Match>AUTF8String</Match>
    <Replace>nsAString</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs</NewAttribute>
    <NewAttrValue>UnmanagedType.LPStr</NewAttrValue>
    <Match>(^|\s+)(string)</Match>
    <Replace>System.String</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <NewAttribute>MarshalAs</NewAttribute>
    <NewAttrValue>UnmanagedType.BStr</NewAttrValue>
    <Match>(^|\s+)BSTR[*\s]*</Match>
    <Replace>System.String</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>buffer</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>  
  <ParamTypeConversion>
    <Match>charPtr</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>constCharPtr</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(^|\s+)wchar</Match>
    <Replace>System.Char</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <!-- TODO - should be converted to utf16 -->
    <Match>(^|\s+)char</Match>
    <Replace>System.Char</Replace>
  </ParamTypeConversion>
  <!-- Interfaces : any type beginning with 'nsI'  -->
  <ParamTypeConversion>
    <Attribute>~size_is</Attribute>
    <NewAttribute>MarshalAs</NewAttribute>
    <NewAttrValue>UnmanagedType.Interface</NewAttrValue>
    <Match>^\s*(?&lt;type&gt;nsI[^\s]+)</Match>
    <Replace>${type}</Replace>
  </ParamTypeConversion>
  <!-- unusual stuff -->
  <ParamTypeConversion>    
    <Match>SAFEARRAY[.]*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>VARIANT_BOOL[.]*</Match>
    <Replace>System.Boolean</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>IUnknown[.]*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>IDispatch[.]*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>SCODE[.]*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>DATE[.]*</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <!-- explicit renames -->
  <ParamTypeConversion>
    <Match>nsPresContext</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>nsIPresContext</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>nsIWidgetPtr</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>nsIntRectRef</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>nsILayoutHistoryState</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>[.]*JSContext(Ptr)?</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>[.]*JSVal(Ptr)?</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>  
  <ParamTypeConversion>
    <Match>DOMTimeStamp</Match>
    <Replace>System.Int64</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(ImageContainerPtr|ImagePtr)</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>nsresult</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>ref</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>size_t</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(WebGLuint|WebGLenum|WebGLbitfield)</Match>
    <Replace>System.UInt32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(WebGLsizeiptr|WebGLArrayPtr|WebGLArrayBufferPtr)</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(WebGLsizei|WebGLint)</Match>
    <Replace>System.Int32</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(WebGLfloat|WebGLclampf)</Match>
    <Replace>System.Double</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>RequestHeaderTuples</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>
  <ParamTypeConversion>
    <Match>(nsXPTParamInfoPtr|nsXPTMethodInfoPtr|nsXPTConstantPtr)</Match>
    <Replace>System.IntPtr</Replace>
  </ParamTypeConversion>  
</IDLConversions>
